<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:s="http://jboss.org/seam/faces"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	
<f:view contentType="text/html" encoding="ISO-8859-1">
	<h:head>
		<ui:fragment rendered="#{identity.loggedIn}">		
			<script>
				location.href='#{request.contextPath}/home'; 
			</script>
		</ui:fragment>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<meta name="description" content="ITM - iTrix Internet Manager" />
		<meta name="author" content="iTrix" />
		<meta name="keyword"
			content="Internet manager" />
		<link rel="shortcut icon" href="img/logo_itrix.png" />
		<title>ITM</title>
<!-- 		 <link href="http://getbootstrap.com/dist/css/bootstrap.min.css" rel="stylesheet" />  -->
		
		<h:outputStylesheet name="template/css/font-awesome.min.css" />
		<h:outputStylesheet name="template/css/simple-line-icons.css" />
		<h:outputStylesheet name="template/css/style1.8.css" />
		<h:outputStylesheet name="template/css/custom.css" />
		
	</h:head>

	<h:body styleClass="app flex-row align-items-center">
		<div class="container">
        <div class="row justify-content-center">
            <div class="col-md-12">
            
            
          		<div class="text-center">
          		<img src="resources/template/img/logo_itrix.png" />
          		<p></p>
          		</div>
                <div class="card-group mw-100">
                    <div class="card p-2">
                        <div class="card-block">
                        	<h:form method="POST" prependId="false">
	                            <h1>Acesse sua conta</h1>
	                            <p class="text-muted">Os seus serviços a qualquer hora. É rápido e seguro.</p>
	                            <div class="input-group mb-1">
	                                <span class="input-group-addon"><i class="icon-user"></i>
	                                </span>
									<h:inputText id="j_username"  styleClass="form-control col-form-label-lg" required="true" label="#{resources['label.global.usuario']}">
										<f:passThroughAttribute name="placeholder" value="CPF ou E-mail"  />
										<f:passThroughAttribute name="required" value="required"  />
									</h:inputText>
	                            </div>
	                            <div class="input-group mb-2">
	                                <span class="input-group-addon"><i class="icon-lock"></i>
	                                </span>
	                                
	                                <h:inputSecret id="j_password"  styleClass="form-control col-form-label-lg" required="true" label="#{resources['label.global.senha']}" redisplay="true">
										<f:passThroughAttribute name="placeholder" value="#{resources['label.global.senha']}" />
										<f:passThroughAttribute name="required" value="required"  />
									</h:inputSecret>
									<div class="col-2 text-right">
	                                    <button type="button" class="btn btn-link px-0">Esqueceu?</button>
	                                </div>
	                            </div>
	                            <div class="row">
	                                <div class="col-2">
	                                   <h:commandButton id="login" value="#{resources['label.global.entrar']}" action="#{identity.login}" styleClass="btn btn-primary btn-lg btn-block" />
	                                </div>
	                            </div>
	                            <br />
	                           
	                         </h:form>   
	                          <div class="row py-3" >
	                              <div class="col-12">
	                              		<h4>Ainda não tem cadastro? </h4>
	                  					<p class="text-muted">Crie seu usuário</p>
	 
	                                 	<button type="button" class="btn btn-secondary btn-lg btn-block" data-toggle="modal" data-target="#exampleModalLong">Cadastre-se Agora</button>

	                              </div>
	                          </div>
						
							<!-- Modal -->
							<div class="modal fade" id="exampleModalLong" tabindex="9999" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
							  <div class="modal-dialog" role="document">
							    <div class="modal-content">
							      <div class="modal-header">
							        <h5 class="modal-title" id="exampleModalLongTitle">Meu primeiro acesso</h5>
							        <button type="button" class="close" data-dismiss="modal" aria-label="">
							          <span aria-hidden="true"><i class="fa fa-close"></i></span>
							        </button>
							      </div>
							      <h:form id="idFormPrimeiroAcesso">
							      <div class="modal-body">
​									<p class="h6">Para utilizar todos os serviços online do ITM é necessário confirmar os dados abaixo e criar sua senha.</p>
	                                 
	                                 		<h:messages showSummary="true" showDetail="false" infoClass="alert alert-success" errorClass="alert alert-danger" layout="list" style="width:96%"/>
			                                
			                                	<h:inputText id="idEmailPrimeiroAcesso" value="#{loginController.loginTO.cliente.email}" styleClass="form-control">
			                                		<f:ajax  event="blur" listener="#{loginController.recuperarCliente}" execute="@this" render="idFormPrimeiroAcesso"/>
			                                		<f:passThroughAttribute name="placeholder" value="#{resources['label.global.informeemail']}"  />
			                                	</h:inputText>
			                                	<br />
			                                	<h:inputSecret value="#{loginController.loginTO.cliente.senha}" styleClass="form-control">
			                                		<f:passThroughAttribute name="placeholder" value="#{resources['label.global.informesenha']}"  />
			                                	</h:inputSecret>
			                                	
			                                
			                                
	                               
							      </div>
							      <div class="modal-footer">
							        
							        	<h:commandLink action="#{loginController.gravarCliente}" value="Salvar" styleClass="btn btn-primary active mt-1"  rendered="#{loginController.loginTO.cliente.id ne null}"/>
							      </div>
							       </h:form>
							    </div>
							  </div>
							</div>
							
							<!-- fim modal -->

                        </div>
                         
    
                    </div>
                       
	                 <div class="card card-blank p-2">
                        <div class="card-block">    
                        <h1>Atendimento Online</h1>
                        
	                    
					      <div class="card">
					        <div class="card-body p-0 clearfix">
					          <i class="fa fa-barcode  p-5 px-2 font-2xl mr-3 float-left"></i>
					          <div class="h4 mb-0 pt-3">Preciso pagar uma conta</div>
					          <div class="text-muted">2ª via da conta</div>
					          <div class="text-muted">Conta Online</div>
					          <div class="text-muted">Consumo Detalhado</div>
					        </div>
					      </div>
					      
					      <br />
					      <div class="card">
					      
					        <div class="card-body p-6 clearfix h-100 d-inline-block" >
					          <!-- publicidade -->
							  <img src="resources/template/img/publicidade.jpg" width="100%;"/>
					        </div>
					      </div>
					      
					    
					 </div>   
                    </div>
                    
                    
                </div>
            </div>
        </div>
    </div>
    	
		

		
		<!-- Bootstrap and necessary plugins -->
	    <h:outputScript name="template/js/libs/jquery.min.js"/>
	    <h:outputScript name="template/js/libs/tether.min.js"/>
	    <h:outputScript name="template/js/bootstrap.min.js"/>
	    <h:outputScript name="template/js/libs/pace.min.js"/>
	    <h:outputScript name="template/js/docs.min.js"/>
	    <!-- GenesisUI main scripts -->
	    <script src="template/js/app.js"/>
	    


	</h:body>

</f:view>
</html>
